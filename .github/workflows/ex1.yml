name: Exercise 1
# on comment "OK" or "Come" in issue 1
on:
  issue_comment:
    types: [created]
    issue_number: 1
    comment: 'OK|test|认领|Test|我来|1'

jobs:
  new_issue:
  # create a new issue and assign it to who commented
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Create new issue
      uses: peter-evans/create-issue-from-file@v4
      with:
        title: Exercise 1 for ${{ github.event.comment.user.login }}
        content-filepath: .github/ISSUE_TEMPLATE/exercise1.md
        assignees: ${{ github.event.comment.user.login }}
        labels: exercise1
    - name: Delete comment
      uses: detomarco/delete-comments@v1.0.4
      with:
        comment-id: ${{ github.event.comment.id }}
        token: ${{ secrets.GITHUB_TOKEN }}